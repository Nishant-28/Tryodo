# Order Cancellation User Guide

## Overview

The Order Cancellation feature allows delivery partners to cancel orders when delivery cannot be completed successfully. This guide explains how to use the cancellation feature from different user perspectives.

---

## For Delivery Partners

### When Can You Cancel an Order?

You can cancel an order only when:
- ✅ The order status is "Out for Delivery" or "Picked Up"
- ✅ You are the assigned delivery partner for the order
- ✅ The order has not been delivered yet

You **cannot** cancel an order if:
- ❌ The order is already delivered
- ❌ The order is still pending or being prepared
- ❌ You are not the assigned delivery partner
- ❌ The order has already been cancelled

### How to Cancel an Order

#### Step 1: Access Your Active Orders
1. Log in to your delivery partner dashboard
2. Navigate to the "Active Orders" or "My Orders" section
3. Find the order you need to cancel

#### Step 2: Initiate Cancellation
1. Look for the **"Cancel Order"** button on the order card
2. Click the "Cancel Order" button
3. A cancellation modal will appear

#### Step 3: Provide Cancellation Details
1. **Select a reason** from the dropdown menu:
   - Customer unavailable
   - Incorrect address
   - Damaged product
   - Customer refused delivery
   - Delivery issues
   - Other

2. **Add additional details** (optional but recommended):
   - Provide specific information about why the order couldn't be delivered
   - Include any relevant context that might help prevent similar issues

#### Step 4: Confirm Cancellation
1. Review the order details and cancellation reason
2. Click **"Confirm Cancellation"**
3. Wait for the confirmation message
4. The order status will update to "Cancelled"

### Example Cancellation Scenarios

#### Scenario 1: Customer Not Available
```
Reason: Customer unavailable
Details: "Attempted delivery 3 times between 2 PM and 4 PM. 
Customer phone is unreachable. Neighbors confirmed no one is home."
```

#### Scenario 2: Wrong Address
```
Reason: Incorrect address
Details: "Address provided leads to a commercial building, 
but order is for residential delivery. Customer phone number 
is not responding for address clarification."
```

#### Scenario 3: Damaged Product
```
Reason: Damaged product
Details: "Product packaging was damaged during transport. 
Product appears to be broken. Customer refused to accept 
damaged goods."
```

### After Cancellation

Once you cancel an order:
1. **Immediate Effects:**
   - Order status changes to "Cancelled"
   - You receive a confirmation message
   - The order moves to your "Cancelled Orders" section

2. **Automatic Notifications:**
   - Vendor receives cancellation notification
   - Customer receives cancellation notification
   - Admin team is notified for tracking

3. **Inventory Restoration:**
   - Product inventory is automatically restored to the vendor
   - Vendor can see the inventory adjustment in their dashboard

---

## For Vendors

### Receiving Cancellation Notifications

When one of your orders is cancelled:

#### Notification Methods
1. **In-app notification** (bell icon in dashboard)
2. **Email notification** (if enabled)
3. **SMS notification** (if enabled)

#### Notification Content
- Order number and customer details
- Cancellation reason and timestamp
- Delivery partner information
- Next steps and actions required

### Viewing Cancelled Orders

#### Access Cancelled Orders Section
1. Log in to your vendor dashboard
2. Navigate to **"Orders"** section
3. Click on **"Cancelled Orders"** tab

#### Order Information Displayed
- **Order Details:** Order number, customer name, total amount
- **Cancellation Info:** Reason, timestamp, delivery partner name
- **Items:** List of cancelled products and quantities
- **Status:** Current order status and history

### Inventory Management

#### Automatic Inventory Restoration
When an order is cancelled:
- Product quantities are automatically added back to your inventory
- Stock levels are updated in real-time
- Products become available for new orders immediately

#### Viewing Inventory Adjustments
1. Go to **"Product Management"** section
2. Click **"Inventory History"** button
3. Look for entries marked as "Cancellation Restoration"

#### Inventory Adjustment Details
- **Product Name:** Which product was restored
- **Quantity Change:** How many units were added back
- **Previous/New Stock:** Stock levels before and after restoration
- **Reason:** "Order cancellation - restored X units"
- **Timestamp:** When the restoration occurred

### Managing Cancelled Orders

#### Review Cancellation Patterns
- Monitor frequent cancellation reasons
- Identify problematic delivery areas
- Review product packaging issues
- Analyze customer communication problems

#### Take Action
1. **Address Quality Issues:** If products are frequently damaged
2. **Improve Packaging:** For fragile items
3. **Update Product Descriptions:** To set correct expectations
4. **Contact Customers:** For address verification if needed

---

## For Customers

### When Your Order is Cancelled

You will be notified immediately when your order is cancelled through:
- **In-app notification**
- **Email notification**
- **SMS notification** (if enabled)

### Viewing Cancelled Orders

#### Access Your Order History
1. Log in to your account
2. Go to **"My Orders"** section
3. Click on **"Cancelled Orders"** tab

#### Cancelled Order Information
- **Order Status:** Clearly marked as "Cancelled"
- **Cancellation Reason:** Why the order was cancelled
- **Cancellation Date:** When the cancellation occurred
- **Refund Information:** Details about refund processing

### Understanding Cancellation Reasons

#### Common Reasons and What They Mean

**Customer Unavailable**
- You were not available to receive the delivery
- Delivery partner couldn't reach you by phone
- *Action:* Ensure you're available during delivery window

**Incorrect Address**
- The delivery address provided was wrong or incomplete
- Delivery partner couldn't locate the address
- *Action:* Update your address in account settings

**Damaged Product**
- Product was damaged during transport
- Packaging was compromised
- *Action:* No action needed; refund will be processed

**Customer Refused Delivery**
- You declined to accept the delivery
- Product didn't match expectations
- *Action:* Contact customer support if needed

**Delivery Issues**
- Weather conditions prevented delivery
- Vehicle breakdown or other logistics issues
- *Action:* No action needed; you can reorder

### Refund Process

#### Automatic Refund Processing
- **Timeline:** Refunds are processed within 3-5 business days
- **Method:** Refund to original payment method
- **Notification:** You'll receive confirmation when refund is processed

#### Payment Method Specific Timelines
- **Credit/Debit Card:** 3-5 business days
- **Digital Wallet:** 1-2 business days
- **Bank Transfer:** 5-7 business days
- **Cash on Delivery:** No refund needed (no payment made)

### What to Do After Cancellation

1. **Check Refund Status:** Monitor your payment method for refund
2. **Reorder if Needed:** Place a new order with corrected information
3. **Update Account:** Fix any address or contact information issues
4. **Contact Support:** If you have questions about the cancellation

---

## For Administrators

### Monitoring Cancellation Analytics

#### Access Analytics Dashboard
1. Log in to admin dashboard
2. Navigate to **"Cancellations"** tab
3. View comprehensive analytics and reports

#### Key Metrics to Monitor
- **Total Cancellations:** Overall cancellation count
- **Cancellation Rate:** Percentage of orders cancelled
- **Top Reasons:** Most common cancellation reasons
- **Partner Performance:** Delivery partner cancellation rates
- **Value Impact:** Revenue lost due to cancellations
- **Trends:** Daily and hourly cancellation patterns

### Managing Cancellation Data

#### Export Functionality
1. **Order Export:** Download all orders with cancellation data
2. **Analytics Export:** Export cancellation statistics
3. **Custom Reports:** Generate filtered reports by date, vendor, or partner

#### Data Analysis
- Identify problematic delivery areas
- Monitor delivery partner performance
- Track seasonal cancellation trends
- Analyze customer behavior patterns

### Taking Action on Cancellations

#### High Cancellation Rate Alerts
When cancellation rates exceed thresholds:
1. **Investigate Root Causes:** Review common reasons
2. **Partner Training:** Provide additional training if needed
3. **Process Improvements:** Update delivery procedures
4. **Vendor Communication:** Alert vendors to quality issues

#### Performance Management
- **Partner Reviews:** Regular performance evaluations
- **Quality Metrics:** Track and improve delivery success rates
- **Customer Satisfaction:** Monitor impact on customer experience

---

## Troubleshooting

### Common Issues and Solutions

#### "Cannot Cancel Order" Error
**Possible Causes:**
- Order is not in cancellable status
- You're not the assigned delivery partner
- Order has already been cancelled

**Solution:**
- Check order status and assignment
- Contact support if you believe this is an error

#### Cancellation Button Not Visible
**Possible Causes:**
- Order status doesn't allow cancellation
- Browser cache issues
- Permission problems

**Solution:**
- Refresh the page
- Check order status
- Clear browser cache
- Contact technical support

#### Inventory Not Restored
**Possible Causes:**
- System processing delay
- Database synchronization issues
- Product mapping problems

**Solution:**
- Wait 5-10 minutes and check again
- Contact vendor support
- Check inventory adjustment history

### Getting Help

#### Contact Support
- **Email:** tryodoapp@gmail.com
- **Live Chat:** Available in dashboard

#### Escalation Process
1. **Level 1:** General customer support
2. **Level 2:** Technical support team
3. **Level 3:** Engineering team
4. **Level 4:** Management escalation

---

## Best Practices

### For Delivery Partners

#### Before Cancelling
1. **Multiple Attempts:** Try contacting customer multiple times
2. **Alternative Solutions:** Look for neighbors or building security
3. **Documentation:** Take photos if address issues exist
4. **Communication:** Call customer support for guidance

#### When Cancelling
1. **Accurate Reasons:** Select the most appropriate reason
2. **Detailed Notes:** Provide specific, helpful details
3. **Professional Tone:** Keep additional details professional
4. **Timely Action:** Cancel promptly to avoid delays

### For Vendors

#### Reducing Cancellations
1. **Quality Control:** Ensure products are well-packaged
2. **Clear Descriptions:** Accurate product information
3. **Customer Communication:** Confirm orders and addresses
4. **Delivery Coordination:** Work with reliable delivery partners

#### Managing Cancellations
1. **Quick Response:** Address cancellation notifications promptly
2. **Pattern Analysis:** Look for recurring issues
3. **Process Improvement:** Update procedures based on feedback
4. **Customer Follow-up:** Contact customers when appropriate

### For Customers

#### Preventing Cancellations
1. **Accurate Information:** Provide correct address and phone number
2. **Availability:** Be available during delivery windows
3. **Clear Instructions:** Add delivery notes for complex addresses
4. **Communication:** Respond to delivery partner calls

---

## Frequently Asked Questions

### General Questions

**Q: How long does it take to process a cancellation?**
A: Cancellations are processed immediately. Refunds take 3-5 business days.

**Q: Can I cancel an order myself as a customer?**
A: Currently, only delivery partners can cancel orders during delivery. Customers can cancel before the order is out for delivery.

**Q: What happens to the products when an order is cancelled?**
A: Product inventory is automatically restored to the vendor's stock.

### For Delivery Partners

**Q: Will cancelling orders affect my performance rating?**
A: Legitimate cancellations with proper reasons don't negatively impact ratings. However, excessive cancellations may be reviewed.

**Q: Can I cancel an order after attempting delivery once?**
A: It's recommended to make multiple attempts and contact the customer before cancelling.

**Q: What if the customer wants to cancel but I've already picked up the order?**
A: You can cancel the order using the "Customer refused delivery" reason.

### For Vendors

**Q: How quickly is my inventory restored after cancellation?**
A: Inventory is restored immediately when the order is cancelled.

**Q: Can I dispute a cancellation?**
A: Yes, contact support if you believe a cancellation was inappropriate.

**Q: Will I be charged for cancelled orders?**
A: No, you're not charged any fees for cancelled orders.

### For Customers

**Q: How do I know if my order was cancelled?**
A: You'll receive immediate notifications via app, email, and SMS.

**Q: Can I reorder immediately after cancellation?**
A: Yes, you can place a new order right away.

**Q: What if I don't receive my refund?**
A: Contact customer support if you don't receive your refund within 7 business days.

---

## Updates and Changes

This documentation is regularly updated to reflect new features and improvements. 
